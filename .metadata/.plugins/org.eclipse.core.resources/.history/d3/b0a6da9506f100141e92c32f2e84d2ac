/**
 * @author Keddon Campbell
 */

var imgFolder = Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory, "images");
var imgFile = imgFolder.getDirectoryListing();


	
			

function MakeGallery(){
	
		var findRan  =	function randomXToY(min,max){
									var randVal = min+(Math.random()*(max-min)); 
									return Math.round(randVal); 
									};
									
									
					  				 var isRan = findRan(0,9);
					  				 console.log("isRan is " + isRan);
					  
						


				    var viewGallery = Ti.UI.createView({
					width: "100%",
					height: "100%",
					backgroundColor: "fff",
					 });
				
					 var viewImage = Ti.UI.createImageView({
					image: "images/" + imgFile[isRan],
					bottom: 50,
					});
					console.log(imgFile[isRan]);
					
					var ranButton = Ti.UI.createView({
						backgroundColor: "343434",
						borderRadius: 10,
						width: "80%",
						height: "30",
						bottom: 5
						
					});
					
					var gallWindow = Ti.UI.createWindow({
					backgroundColor: "fff",
					title: imgFile[isRan],
					});
					
					var ranLabel = Ti.UI.createLabel({
						text: "Change",
						Color: "e1e1e1",
					});
	
					
					ranButton.add(ranLabel);
					viewGallery.add(ranButton);
					 gallWindow.add(viewGallery);
					 viewGallery.add(viewImage);
					 navWin.openWindow(gallWindow);
					 
					 				
					ranButton.addEventListener("click", function(repeat){
						
						  viewGallery.remove(viewImage); 
						  
						var findRan  =	function randomXToY(min,max){
									var randVal = min+(Math.random()*(max-min)); 
									return Math.round(randVal); 
									};
									
									
					  				 var isRan = findRan(0,9);
					  				 console.log("isRan is " + isRan);
					  				 
					 var viewImage = Ti.UI.createImageView({
					image: "images/" + imgFile[isRan],
					bottom: 50,
					});
					console.log(imgFile[isRan]);
					
					  viewGallery.remove(viewImage); 
					 viewGallery.add(viewImage); 
					});

};



galleryButton.addEventListener("click", MakeGallery);
